# OpenProject DevLake Integration Configuration
# Copy this file to config.yaml and update with your actual values

# OpenProject Configuration
openproject:
  base_url: "https://your-openproject-instance.com"  # CHANGE THIS to your OpenProject URL
  api_key: "YOUR_OPENPROJECT_API_KEY_HERE"  # CHANGE THIS to your API key
  connection_id: 1
  connection_name: "OpenProject Production"

# Database Configuration (from your docker-compose.yml)
database:
  host: "localhost"
  port: 3307  # Your MySQL port from docker ps (default DevLake port)
  database: "lake"  # Database name from your docker-compose
  user: "merico"  # From your docker-compose
  password: "YOUR_DATABASE_PASSWORD_HERE"  # CHANGE THIS to your database password
  charset: "utf8mb4"

# Pipeline Configuration
pipeline:
  batch_size: 100
  rate_limit_rpm: 60  # Requests per minute
  retry_attempts: 3
  timeout_seconds: 30
  max_pages_per_collection: 1000  # Safety limit to prevent infinite loops

# Data Collection Settings
collection:
  incremental_sync: true
  sync_interval_hours: 6
  full_sync_interval_days: 7
  projects: []  # Empty = collect all projects, or specify IDs like [1, 2, 3]

# Logging Configuration
logging:
  level: "INFO"
  file: "logs/openproject_pipeline.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5

# How to get your OpenProject API key:
# 1. Log in to your OpenProject instance
# 2. Click on your avatar (top-right)
# 3. Go to: My Account â†’ Access tokens
# 4. Click "Create" to generate a new API token
# 5. Copy the generated token and paste it above

# How to find your DevLake database password:
# 1. Check your docker-compose.yml file
# 2. Look for MYSQL_PASSWORD under the mysql service
# 3. Default DevLake password is usually "merico"
